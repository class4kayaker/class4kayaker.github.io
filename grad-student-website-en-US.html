<!DOCTYPE html><html lang="en"><head><title>Jonathan Robey</title><meta charset="utf-8"><link href="https://www.math.ucdavis.edu/~jrobey/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jonathan Robey Full Atom Feed"><link href="https://www.math.ucdavis.edu/~jrobey/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="Jonathan Robey Categories Atom Feed"><meta http-equiv="Content-Security-Policy" content="script-src 'self' https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/"><meta http-equiv="Content-Security-Policy" content="require-sri-for script style"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" integrity="sha384-aO3lPZPD09+Yve9t+5/LqmlEZSO+6c5M8lQ4i25CcM/T7VVArjlo5KCLg0awBRPz" href="https://www.math.ucdavis.edu/~jrobey/theme/css/style.css?5a2d33"><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-CABIusojVGLXKWOcdRP7wwh3SC7gjAbMmAnii19ZRH6QOsLiM6NIJ7Mb4BjfkQLU" crossorigin="anonymous" async></script></head><body id="index" class="home"><header id="banner" class="body"><h1><a href="https://www.math.ucdavis.edu/~jrobey/">Jonathan Robey <strong></strong></a></h1></header><div id="navigation"><nav id="menu"><h3>Information</h3><ul><li><a href="https://www.math.ucdavis.edu/~jrobey/">About Jonathan Robey</a></li><li><a href="https://www.math.ucdavis.edu/~jrobey/pages/ta-info-en-US.html">TA Information</a></li><li><a href="https://www.math.ucdavis.edu/~jrobey/pages/research-en-US.html">Research</a></li></ul><h3>Posts</h3><ul><li class="active"><a href="https://www.math.ucdavis.edu/~jrobey/category/graduate-school.html">Graduate School</a></li><li><a href="https://www.math.ucdavis.edu/~jrobey/category/research.html">Research</a></li><li><a href="https://www.math.ucdavis.edu/~jrobey/category/teaching.html">Teaching</a></li></ul></nav></div><div id="contentpane"><section id="content" class="body"><header><h2 class="entry-title"><a href="https://www.math.ucdavis.edu/~jrobey/grad-student-website-en-US.html" rel="bookmark" title="Permalink to Website Creation">Website Creation</a></h2></header><footer class="post-info"><time class="published" datetime="2018-06-05T01:00:00-07:00"> Tue 05 June 2018 </time><time class="modified" datetime="2018-06-18T16:00:00-07:00"> Mon 18 June 2018 </time><span class="authors">By Jonathan Robey</span></footer><div class="entry-content"><h2 id="initial-choices">Initial Choices</h2><p>Given that we are producing a site that will be hosted by a department, there is a quite reasonable restriction to static web pages. It would be possible to hand code the whole of the site, but the level of effort would likely be prohibitive.</p><h2 id="selecting-a-static-webpage-generator">Selecting a Static Webpage Generator</h2><p>A cursory examination of the advertised options shows that there are a large number of static website generators available. Due to personal familiarity, the list was narrowed by requiring the use of Python as the implementing language. <a href="https://blog.getpelican.com/">Pelican</a> was then one of the top options, and was both currently supported and had built in support for extension with plugins.</p><h2 id="creating-the-static-site">Creating the Static Site</h2><p>There are a few variations from common assumptions that are likely to be relevant in creation of the website. In particular, though the existence of some web posts that are similar to articles or blog entries is likely to be a desirable element, they may not be the main focus (of the website). Additionally, it is likely that there will be a need to include a number of document elements that are frequently used in academic work but are often less formal elsewhere.</p><p>Pelican includes a quickstart script that sets up the basic directory, an initial configuration file, and some other optional elements.</p><h3 id="using-pandoc-to-generate-pages">Using Pandoc to Generate Pages</h3><p>Given that the page under discussion is intended to be closely related to academic work, the ability to generate citations with an ease of inclusion comparable to LaTeX is a desirable feature. <a href="https://pandoc.org">Pandoc</a> is a document conversion tool, that defines a markdown flavor with a number of useful extensions including a citation processor, with said extension being maintained by the same developers as the tool itself. This makes maintaining a good academic references section comparable to the level of difficulty in a LaTeX document.</p><p>It would be possible to use the more official <a href="https://github.com/liob/pandoc_reader">pandoc_reader</a> plugin, but there were a few use cases where it was not ideal, and also source repository appears to be somewhat unmaintained. First, I wanted to use Pandoc’s native YAML metadata block for the document data rather than a more fragile externally detected header, which would also have required modification if using Pandoc to render the page outside of Pelican. I also wanted either a single file implementation that I could copy into my private website repository, or a well defined external package.</p><p>As such, I created my own plugin based on existing implementations. When creating the plugin, I did need to add an additional regex based transformation to the output to allow the use of Pelican’s URL transformation directives despite Pandoc doing the correct thing and urlencoding the braces. This implementation was originally maintained as a part of the git directory for this project, but as I wished to mention its use in this post, I felt I should make the implementation more widely available in a manner that would allow easier use by any reader who desired to do so. As such, the implementation is available as a git repository at <a href="https://github.com/class4kayaker/pelican_pandoc_reader">pelican_pandoc_reader</a>. The implementation is dependent on the use of a Pandoc version more recent than version 1.16, as the required template variable was introduced then.</p><p>The plugin is designed to be functional as a single file (in particular the <code>__init__.py</code> file) copied into a plugins directory or installed as a package using a VCS reference.</p><h3 id="creating-content">Creating content</h3><p>Detailed documentation for creating content for Pelican is available in <a href="http://docs.getpelican.com/en/stable/content.html">Pelican’s documentation</a>, and the markdown syntax for Pandoc is available in <a href="https://pandoc.org/MANUAL.html">the manual</a>.</p><p>In general, content is produced by adding files (in the Pandoc flavor markdown format for the approach discussed here) in the <code>content/</code> subdirectory of where your local files for the site are.</p><h4 id="about-page-as-base-page">About Page as Base Page</h4><p>The procedure for this can be found in <a href="http://docs.getpelican.com/en/stable/faq.html#how-can-i-override-the-generated-url-of-a-specific-page-or-article">Pelican’s FAQ</a>.</p><h4 id="publication-list">Publication List</h4><p>A standard component of an academic web page is frequently a list of publications including links to the official publication location and possibly an eprint archive. This list could be hand-coded, but it would be preferable to make use of more standard tooling. Given the usecase, it would be preferable to have access to all of the Bibtex keys in the record to allow generation of standard link lists in addition to the formatted entry. As no existing implementation exposes precisely this functionality, a new plugin based on some of the other implementations was created that both produced a <a href="https://citationstyles.org/">CSL</a> based formated version and included access to the full record. This plugin is available at <a href="https://github.com/class4kayaker/pelican_publication_list">pelican_publication_list</a>.</p><p>As above, the plugin is designed to be functional as a single file (in particular the <code>__init__.py</code> file) copied into a plugins directory or installed as a package using a VCS reference.</p><h4 id="posts-with-bibliographies">Posts with Bibliographies</h4><p>If using Pandoc as discussed above, this is rather simple. All that is required is to add <code>bibiliography:path/to/bibfile</code> and <code>citation-style:path/to/csl</code> to the YAML metadata block in the markdown for the post. Note that for both the path should be relative to the directory where Pelican is run.</p><p>If you would like the citations to link to the relevant references, then this can be done by specifying <code>--metadata link-references=true</code>. For the plugin descibed above this is done by adding <code>--metadata</code> and <code>link-references=true</code> to Pelican’s <code>PANDOC_ARGS</code> configuration variable.</p><h4 id="including-math-equations">Including Math Equations</h4><p>Sadly, the web does not handle including math formulas easily. Pandoc’s native markdown does include syntax for including LaTeX math, but due to standard fragmentation, it requires a command line flag to specify how they should be included in the html. The options that are simplest for a static website are:</p><dl><dt><a href="https://www.mathjax.org/">MathJax</a></dt><dd><p>A Javascript based solution to the problem of displaying math in browsers.</p><p>If given the <code>--mathjax</code> command line flag, Pandoc will write its HTML output to be recognizable by the MathJax script. If using the plugin mentioned above, this can be specified by adding it to Pelican’s <code>PANDOC_ARGS</code> configuration variable. However, it will also be necessary to add the script to your site.</p></dd><dt><a href="https://www.w3.org/Math/">MathML</a></dt><dd><p>This is the way to include math defined <a href="https://www.w3.org/TR/html5/semantics-embedded-content.html#mathml">in the HTML 5 Standard</a>. However, <a href="https://developer.mozilla.org/en-US/docs/Web/MathML">according to Mozilla’s site</a> it is not generally supported by browsers. Thankfully, the MathJax script will also format equations in this format if included.</p><p>If given the <code>--mathml</code> command line flag, Pandoc will write its HTML output using this format. If using the plugin mentioned above, this can be specified by adding it to Pelican’s <code>PANDOC_ARGS</code> configuration variable.</p></dd></dl><h3 id="css-layout">CSS Layout</h3><p>The above work produces a set of web pages that consist solely of HTML, and are likely a purely functional presentation. In modern sites, the presentation of the site is controlled by CSS.</p><p>There are a large number of themes already developed for use with pelican, or it is possible to create your own theme.</p><h4 id="printing-pages">Printing Pages</h4><p>If it is likely that readers of your site will be printing out some pages, such as if example problem sets are included. If so you may wish to be able to adjust the structure of the site when printing it out. This is possible <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries">using the CSS media rule</a>. If you have made use of an external theme, it is likely that this may already have been done by the theme.</p></div></section></div><footer id="contentinfo" class="body"><address id="about" class="vcard body"> Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>. </address></footer></body></html>